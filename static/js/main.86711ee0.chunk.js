(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{87:function(t,e,n){t.exports=n(98)},92:function(t,e,n){},93:function(t,e,n){},98:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),i=n(10),o=n.n(i),s=(n(92),n(54)),c=n(18),l=n(19),u=n(24),g=n(22),d=(n(93),function(){return a.a.createElement("header",{className:"app-header"},a.a.createElement("h1",null,"To Do List"))}),p=n(5),h=n(135),f=n(136),k=n(137),y=n(31),x=n(142),m=n(139),b=function(t){Object(u.a)(n,t);var e=Object(g.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.classes,r=e.editing,i=e.error,o=e.toggleError,s=e.handleSubmit,c=e.text,l=e.updateTaskText,u=e.index,g=e.toggleEditing;return r?a.a.createElement("form",{className:n.root,onSubmit:function(e){e.preventDefault(),c?(l(u,t.input.value),g()):s(t.input.value),e.currentTarget.reset()},onChange:function(e){t.input.value.length>=140&&o()}},a.a.createElement(m.a,{id:"add-task-form",label:"Add Task",defaultValue:c,inputRef:function(e){return t.input=e},inputProps:{maxLength:"140"},error:i,helperText:i?"Tasks are limited to 140 characters":""})):null}}]),n}(a.a.Component),T=Object(p.a)((function(){return{root:{"& .MuiTextField-root":{width:"100%",display:"flex",flexWrap:"wrap"}}}}))(b),D=n(140),v=Object(p.a)({root:{float:"right",position:"absolute",bottom:"5px",right:"5px"},notSelected:{borderRadius:3,"margin-left":"5px",background:"DarkGray",color:"white","font-weight":"bold"},new:{background:"YellowGreen"},inProgress:{background:"Gold"},done:{background:"LightCoral"}})((function(t){var e=t.classes,n=t.editing,r=t.status,i=t.index,o=t.changeTaskStatus;return n?null:a.a.createElement("div",{className:e.root},a.a.createElement(D.a,{onClick:function(){return o(i,"done")},className:"done"===r?"".concat(e.notSelected," ").concat(e.done," done"):"".concat(e.notSelected),size:"small",label:"Done",clickable:!1}),a.a.createElement(D.a,{onClick:function(){return o(i,"inProgress")},className:"inProgress"===r?"".concat(e.notSelected," ").concat(e.inProgress):"".concat(e.notSelected),size:"small",label:"In Progress",clickable:!1}),a.a.createElement(D.a,{onClick:function(){return o(i,"new")},className:"new"===r?"".concat(e.notSelected," ").concat(e.new):"".concat(e.notSelected),size:"small",label:"New",clickable:!1}))})),E={canDrag:function(t,e){return!t.newTask},isDragging:function(t,e){return e.getItem().index===t.index},beginDrag:function(t,e,n){var r={index:t.index,priority:t.priority};return setTimeout((function(){t.toggleisAnythingDragging(r.index)}),10),r},endDrag:function(t,e,n){t.index,t.priority;t.toggleisAnythingDragging(-1)}};var S=function(t){Object(u.a)(n,t);var e=Object(g.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={editing:!1,error:!1},t.toggleEditing=function(){t.setState((function(t){return{editing:!t.editing}}))},t.toggleError=function(){t.setState((function(t){return{error:!t.error}}))},t}return Object(l.a)(n,[{key:"componentWillMount",value:function(){this.props.newTask&&this.toggleEditing()}},{key:"render",value:function(){var t=this,e=this.props,n=e.classes,r=e.text,i=e.status,o=e.index,s=(e.priority,e.handleSubmit),c=e.changeTaskStatus,l=(e.changeTaskPriority,e.updateTaskText),u=e.newTask,g=e.deleteTask,d=(e.isDragging,e.beginDrag,e.endDrag,e.connectDragSource);e.toggleIsAnythingDragging;return d(a.a.createElement("div",null,a.a.createElement(h.a,{className:"done"===i?"".concat(n.root," ").concat(n.done):n.root,maxWidth:"sm"},u?null:a.a.createElement(x.a,{title:"Delete Task"},a.a.createElement(f.a,{className:n.close,onClick:function(){return g(o)}})),this.state.editing?null:r,this.state.editing?null:a.a.createElement(x.a,{title:"Edit"},a.a.createElement(k.a,{className:n.edit,onClick:function(){return t.toggleEditing()}})),a.a.createElement(T,{editing:this.state.editing,toggleEditing:this.toggleEditing,error:this.state.error,toggleError:this.toggleError,handleSubmit:s,updateTaskText:l,index:o,text:r}),a.a.createElement(v,{editing:this.state.editing,status:i,index:o,changeTaskStatus:c})),a.a.createElement("div",{className:"".concat(n.spacing)})))}}]),n}(a.a.Component),w=Object(y.DragSource)("task",E,(function(t,e){return{connectDragSource:t.dragSource(),isDragging:e.isDragging()}}))(Object(p.a)({root:{background:"#dcd6f7",border:0,borderRadius:3,color:"#424874",height:72,padding:"0 30px","text-align":"left",position:"relative"},spacing:{height:"5px"},close:{position:"absolute",right:"5px",top:"5px"},done:{"text-decoration":"line-through"},edit:{color:"#a6b1e1","padding-inline-start":"10px"},upArrow:{color:"#a6b1e1","padding-inline-start":"10px"},downArrow:{color:"#a6b1e1","padding-inline-start":"10px"}})(S)),O=function(t){return function(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}(t.x,t.y)>15},j={drop:function(t,e,n){var r=e.getItem();console.log("index of slot "+t.index),t.changeTaskPriority(r.index,t.index-r.priority,t.index)},canDrop:function(t,e){return O(e.getDifferenceFromInitialOffset())}};var P=function(t){Object(u.a)(n,t);var e=Object(g.a)(n);function n(){return Object(c.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.classes,n=t.connectDropTarget,r=t.isOver;t.index,t.changeTaskPriority,t.key;return n(a.a.createElement("div",null,a.a.createElement(h.a,{className:"".concat(r?e.isOver:e.root),maxWidth:"sm"}),a.a.createElement("div",{className:"".concat(e.spacing)})))}}]),n}(a.a.Component),A=Object(y.DropTarget)("task",j,(function(t,e){return{connectDropTarget:t.dropTarget(),isOver:e.isOver()}}))(Object(p.a)({root:{background:"#ddd9f0",border:0,borderRadius:3,height:"8px",padding:"0 30px","text-align":"left",position:"relative"},isOver:{background:"#424874",border:0,borderRadius:3,height:"8px",padding:"0 30px","text-align":"left",position:"relative"},spacing:{height:"5px"}})(P)),N=[{text:"Pick up 1 gallon milk.",priority:1,status:"new",index:100},{text:"Schedule dentist appointments for next month.",priority:2,status:"inProgress",index:200},{text:"Call Aunt Hilda.",priority:3,status:"new",index:300},{text:"Fix broken cabinet.",priority:4,status:"done",index:400},{text:"Follow up with electrician.",priority:5,status:"done",index:500},{text:"Return library books.",priority:6,status:"new",index:600},{text:"Install shelves.",priority:7,status:"new",index:700}],I=function(t){return t.length},C=function(t){return t.reduce((function(t,e){return Math.max(t,e.index)}),0)},M=function(t,e){return{text:e,priority:I(t)+1,status:"new",index:C(t)+1}},R=n(138),F=n(72),W=function(t){Object(u.a)(n,t);var e=Object(g.a)(n);function n(){var t;Object(c.a)(this,n);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={taskData:N,isAnythingDragging:!1},t.handleSubmit=function(e){t.setState((function(t){return{taskData:[].concat(Object(s.a)(t.taskData),[M(t.taskData,e)])}}))},t.findTaskIndex=function(t,e){return t.taskData.findIndex((function(t){return t.index===e}))},t.findTaskByPriority=function(t,e){var n=t.taskData.filter((function(t){return t.priority===e}));if(n.length>1)throw new Error("Two items have the same priority");return n[0]},t.updateTaskText=function(e,n){t.setState((function(r){var a=t.findTaskIndex(r,e),i=r.taskData;return i[a].text=n,{taskData:i}}))},t.changeTaskPriority=function(e,n){t.setState((function(r){var a=t.findTaskIndex(r,e),i=r.taskData[a].priority,o=r.taskData;return 1==n?(o.map((function(t){return t.priority<o[a].priority?t.priority=t.priority+1:null})),o[a].priority=1):n==o.length+1?(o.map((function(t){return t.priority>o[a].priority?t.priority=t.priority-1:null})),o[a].priority=o.length):n<=i?(o.map((function(t){return t.priority<o[a].priority&&t.priority>=n?t.priority=t.priority+1:null})),o[a].priority=n):n>i&&(o.map((function(t){return t.priority>o[a].priority&&t.priority<n?t.priority=t.priority-1:null})),o[a].priority=n-1),{taskData:o}}))},t.toggleisAnythingDragging=function(e){t.setState((function(t){return{isAnythingDragging:e}}))},t.changeTaskStatus=function(e,n){t.setState((function(r){var a=t.findTaskIndex(r,e),i=r.taskData;return i[a].status=n,{taskData:i}}))},t.deleteTask=function(e){t.setState((function(n){var r=n.taskData,a=t.findTaskIndex(n,e);return r.map((function(t){return t.priority>n.taskData[a].priority?t.priority=t.priority-1:null})),{taskData:r=r.filter((function(t){return t.index!==e}))}}))},t.prioritySortTaskData=function(t){var e=Object(s.a)(t);return e.sort((function(t,e){return t.priority-e.priority})),e},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(R.a,{backend:F.a},a.a.createElement("div",{className:"App"},a.a.createElement(d,null),this.state.isAnythingDragging>1?a.a.createElement(A,{index:1,key:1,changeTaskPriority:this.changeTaskPriority}):null,this.prioritySortTaskData(this.state.taskData).map((function(e){return a.a.createElement("div",null,a.a.createElement(w,{text:e.text,key:e.index,status:e.status,index:e.index,priority:e.priority,changeTaskStatus:t.changeTaskStatus,changeTaskPriority:t.changeTaskPriority,deleteTask:t.deleteTask,newTask:!1,updateTaskText:t.updateTaskText,toggleisAnythingDragging:t.toggleisAnythingDragging}),t.state.isAnythingDragging>0?a.a.createElement(A,{key:e.priority+1,index:e.priority+1,changeTaskPriority:t.changeTaskPriority}):null)})),a.a.createElement(w,{key:"add-task",newTask:!0,handleSubmit:this.handleSubmit})))}}]),n}(a.a.Component);o.a.render(a.a.createElement(W,null),document.getElementById("root"))}},[[87,1,2]]]);
//# sourceMappingURL=main.86711ee0.chunk.js.map